{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-61dd7a3d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  style: {\n    \"line-height\": \"50px\",\n    \"display\": \"flex\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"200px\",\n    \"margin-left\": \"10px\",\n    \"font-weight\": \"bold\",\n    \"color\": \"dodgerblue\"\n  }\n}, \"川の鲜花店\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"flex\": \"1\"\n  }\n}, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"right-info\"\n};\nconst _hoisted_5 = {\n  class: \"el-dropdown-link\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Clock = _resolveComponent(\"Clock\");\n  const _component_avatar = _resolveComponent(\"avatar\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_arrow_down = _resolveComponent(\"arrow-down\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createVNode(_component_Clock, {\n    style: {\n      \"font-size\": \"20px\",\n      \"position\": \"absolute\",\n      \"left\": \"50%\",\n      \"overflow\": \"hidden\"\n    }\n  }), _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_dropdown, null, {\n    dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n      default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n        onClick: $options.selfInfoManage\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"个人信息\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n        onClick: $options.signup\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"今日签到\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n        onClick: $options.alluser\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"成员信息\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n        onClick: $options.selectsign\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"查看今日签到记录\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n        onClick: $options.SignOut\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"退出登录\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_5, [_createVNode(_component_el_icon, {\n      size: 18,\n      style: {\n        \"float\": \"left\",\n        \"margin-right\": \"7px\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_avatar)]),\n      _: 1 /* STABLE */\n    }), _createTextVNode(\" 个人中心 \"), _createVNode(_component_el_icon, {\n      class: \"el-icon--right\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_arrow_down)]),\n      _: 1 /* STABLE */\n    })])]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["style","_createElementVNode","class","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_Clock","_hoisted_3","_hoisted_4","_component_el_dropdown","dropdown","_withCtx","_component_el_dropdown_menu","default","_component_el_dropdown_item","onClick","$options","selfInfoManage","_createTextVNode","_","signup","alluser","selectsign","SignOut","_hoisted_5","_component_el_icon","size","_component_avatar","_component_arrow_down"],"sources":["C:\\Users\\zhang\\Desktop\\myvueeee\\flowers\\src\\components\\Header.vue"],"sourcesContent":["<template>\n  <div style=\"line-height: 50px;display: flex\">\n    <div style=\"width: 200px;margin-left: 10px; font-weight: bold; color: dodgerblue\">川の鲜花店</div>\n    <Clock style=\"font-size: 20px;position: absolute;left: 50%;overflow: hidden;\"/>\n    <div style=\"flex: 1\"></div>\n    <div class=\"right-info\">\n      <el-dropdown>\n        <span class=\"el-dropdown-link\">\n          <el-icon :size=\"18\" style=\"float: left;margin-right: 7px;\"><avatar/></el-icon>\n          个人中心\n          <el-icon class=\"el-icon--right\"><arrow-down/></el-icon>\n        </span>\n        <template #dropdown>\n          <el-dropdown-menu>\n            <el-dropdown-item @click=\"selfInfoManage\">个人信息</el-dropdown-item>\n             <el-dropdown-item @click=\"signup\">今日签到</el-dropdown-item>\n             <el-dropdown-item @click=\"alluser\">成员信息</el-dropdown-item>\n             <el-dropdown-item @click=\"selectsign\">查看今日签到记录</el-dropdown-item>\n            <el-dropdown-item @click=\"SignOut\">退出登录</el-dropdown-item>\n          </el-dropdown-menu>\n        </template>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport request from \"@/utils/index\";\nimport Clock from \"@/components/Clock\";\n\nconst {ElMessage} = require(\"element-plus\");\nexport default {\n  name: \"HeaderHappy\",\n  components: {\n    Clock\n  },\n  data() {\n    return {\n      name: '',\n      identify:\"\",\n       status:false,\n      form:{\n        username:\"\",\n      \n      },\n        // 定时任务配置\n      config: {\n        time: '00:00:00', // 每天几点执行\n        interval: 1, // 隔几天执行一次\n        runNow: false, // 是否立即执行\n        intervalTimer: '',\n        timeOutTimer: ''\n      }\n    }\n  },\n  created() {\n         this.load();\n  },\n  // 一定要记得在组件销毁阶段清除定时器\n beforeUnmount () {\n    // 清除任务定时器\n    clearInterval(this.config.intervalTimer)\n    // 清除定时器timeout\n    clearTimeout(this.config.timeOutTimer)\n  },\n  methods: {\n     load() {\n            var data = JSON.parse(sessionStorage.getItem(\"user\"));\n            this.form.username = data.username\n            this.identify =  JSON.parse(sessionStorage.getItem(\"identity\"));\n      },\n    SignOut() {\n      sessionStorage.clear()\n      request.get(\"/main/signOut\");\n      ElMessage({\n        message: '用户退出登录',\n        type: 'success',\n      });\n      this.$router.replace({path: '/login'});\n    },\n    selfInfoManage() {\n      this.$router.push(\"/selfInfo\")\n    },\n    signup(){\n      if(!this.status){\n    console.log(this.form)\n        request.post(\"/\" + this.identify +\"/signup\",this.form).then(res => {\n                if (res.code === 200) {\n                            console.log(\"chengg\")\n                            ElMessage({\n                                message: \"签到成功\",\n                                type: \"success\",\n                            });\n                             this.status = res.data\n                           //签到成功刷新页面\n                             this.$router.push(\"/home\")\n                        } else {\n                            console.log(\"fail\")\n                            console.log(res.message)\n                            ElMessage({\n                                message: res.message,\n                                type: \"error\",\n                            });\n                        }\n        });\n      }else {\n         alert(\"签到过了，无需再次签到\")\n      }\n    },\n    alluser(){\n            this.$router.push(\"/AllUserInfo\")\n    },\n    selectsign(){\n\n    }\n  },\n  //定时任务\nsetTimedTask() {\n      // 默认为false，true为立即触发，看你的需求，如果设置为true则立刻运行任务函数\n      if (this.config.runNow) {\n        this.initBusinessFn()\n      }\n      // 获取下次要执行的时间，如果执行时间已经过了今天，就让把执行时间设到明天的按时执行的时间\n      const nowTime = new Date().getTime()\n      const timePoint = this.config.time.split(':').map((i) => parseInt(i))\n \n      let recent = new Date().setHours(...timePoint) // 获取执行时间的时间戳\n \n      if (recent <= nowTime) {\n        recent += 24 * 60 * 60 * 1000\n      }\n      // 要执行的时间减去现在的时间，就是程序要多少秒之后执行\n      const doRunTime = recent - nowTime\n      this.config.timeOutTimer = setTimeout(this.setTimer, doRunTime)\n },\n \n \n   // 设置定时器\n    setTimer () {\n      console.log('进入定时器了')\n      // 这里是将在你设置的时间点执行你的业务函数\n      this.initBusinessFn()\n      // 每隔多少天再执行一次，这里设置的是24小时\n      const intTime = this.config.interval * 24 * 60 * 60 * 1000\n      this.config.intervalTimer = setInterval(this.initBusinessFn, intTime)\n    },\n \n \n  // 业务函数 \n   initBusinessFn() {\n      console.log('定时任务函数触')\n      this.status = false;\n    }\n}\n</script>\n\n<style scoped>\n.right-info {\n  width: 120px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 1.5%;\n}\n\n.right-info:hover {\n  cursor: pointer;\n}\n</style>"],"mappings":";;;EACOA,KAAuC,EAAvC;IAAA;IAAA;EAAA;AAAuC;gEAC1CC,mBAAA,CAA6F;EAAxFD,KAA4E,EAA5E;IAAA;IAAA;IAAA;IAAA;EAAA;AAA4E,GAAC,OAAK;gEAEvFC,mBAAA,CAA2B;EAAtBD,KAAe,EAAf;IAAA;EAAA;AAAe;;EACfE,KAAK,EAAC;AAAY;;EAEbA,KAAK,EAAC;AAAkB;;;;;;;;;uBANpCC,mBAAA,CAsBM,OAtBNC,UAsBM,GArBJC,UAA6F,EAC7FC,YAAA,CAA+EC,gBAAA;IAAxEP,KAAsE,EAAtE;MAAA;MAAA;MAAA;MAAA;IAAA;EAAsE,IAC7EQ,UAA2B,EAC3BP,mBAAA,CAiBM,OAjBNQ,UAiBM,GAhBJH,YAAA,CAecI,sBAAA;IATDC,QAAQ,EAAAC,QAAA,CACjB,MAMmB,CANnBN,YAAA,CAMmBO,2BAAA;MAnB7BC,OAAA,EAAAF,QAAA,CAcY,MAAiE,CAAjEN,YAAA,CAAiES,2BAAA;QAA9CC,OAAK,EAAEC,QAAA,CAAAC;MAAc;QAdpDJ,OAAA,EAAAF,QAAA,CAcsD,MAAI,CAd1DO,gBAAA,CAcsD,MAAI,E;QAd1DC,CAAA;sCAead,YAAA,CAAyDS,2BAAA;QAAtCC,OAAK,EAAEC,QAAA,CAAAI;MAAM;QAf7CP,OAAA,EAAAF,QAAA,CAe+C,MAAI,CAfnDO,gBAAA,CAe+C,MAAI,E;QAfnDC,CAAA;sCAgBad,YAAA,CAA0DS,2BAAA;QAAvCC,OAAK,EAAEC,QAAA,CAAAK;MAAO;QAhB9CR,OAAA,EAAAF,QAAA,CAgBgD,MAAI,CAhBpDO,gBAAA,CAgBgD,MAAI,E;QAhBpDC,CAAA;sCAiBad,YAAA,CAAiES,2BAAA;QAA9CC,OAAK,EAAEC,QAAA,CAAAM;MAAU;QAjBjDT,OAAA,EAAAF,QAAA,CAiBmD,MAAQ,CAjB3DO,gBAAA,CAiBmD,UAAQ,E;QAjB3DC,CAAA;sCAkBYd,YAAA,CAA0DS,2BAAA;QAAvCC,OAAK,EAAEC,QAAA,CAAAO;MAAO;QAlB7CV,OAAA,EAAAF,QAAA,CAkB+C,MAAI,CAlBnDO,gBAAA,CAkB+C,MAAI,E;QAlBnDC,CAAA;;MAAAA,CAAA;;IAAAN,OAAA,EAAAF,QAAA,CAOQ,MAIO,CAJPX,mBAAA,CAIO,QAJPwB,UAIO,GAHLnB,YAAA,CAA8EoB,kBAAA;MAApEC,IAAI,EAAE,EAAE;MAAE3B,KAAsC,EAAtC;QAAA;QAAA;MAAA;;MAR9Bc,OAAA,EAAAF,QAAA,CAQqE,MAAS,CAATN,YAAA,CAASsB,iBAAA,E;MAR9ER,CAAA;QAAAD,gBAAA,CAQwF,QAE9E,GAAAb,YAAA,CAAuDoB,kBAAA;MAA9CxB,KAAK,EAAC;IAAgB;MAVzCY,OAAA,EAAAF,QAAA,CAU0C,MAAa,CAAbN,YAAA,CAAauB,qBAAA,E;MAVvDT,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}